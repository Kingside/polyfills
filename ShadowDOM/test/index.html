<!DOCTYPE html>
<!--
Copyright 2012 The Toolkitchen Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<meta charset="utf-8">
<link rel="stylesheet" href="../../third_party/mocha/mocha.css">
<script src="../../third_party/expect.js/expect.js"></script>
<script src="../../third_party/mocha/mocha.js"></script>
<script src="../map.js"></script>
<script src="../sidetable.js"></script>
<script src="../paralleltrees.js"></script>
<script src="../ShadowRoot.js"></script>
<script>

// TODO(arv): Move to ShadowDom.js?
Object.defineProperty(DocumentFragment.prototype, 'innerHTML', {
  get: function() {
    throw 'not implemented';
  },
  set: function(value) {
    this.textContent = '';
    var tmp = this.ownerDocument.createElement('div');
    tmp.innerHTML = value;
    while (tmp.firstChild) {
      this.appendChild(tmp.firstChild);
    }
  },
  enumerable: true,
  configurable: true
});

function expectStructure(nodeOrWrapper, nonNullFields) {
  expect(nodeOrWrapper).to.be.ok();
  expect(nodeOrWrapper.parentNode).to.be(nonNullFields.parentNode || null);
  expect(nodeOrWrapper.previousSibling).to.be(
      nonNullFields.previousSibling || null);
  expect(nodeOrWrapper.nextSibling).to.be(nonNullFields.nextSibling || null);
  expect(nodeOrWrapper.firstChild).to.be(nonNullFields.firstChild || null);
  expect(nodeOrWrapper.lastChild).to.be(nonNullFields.lastChild || null);
}

</script>
<script>mocha.setup('tdd')</script>
<script src="test.js"></script>
<script src="paralleltrees.js"></script>
<script src="rerender.js"></script>
<div id="mocha"></div>
<script>
mocha.run();
</script>
